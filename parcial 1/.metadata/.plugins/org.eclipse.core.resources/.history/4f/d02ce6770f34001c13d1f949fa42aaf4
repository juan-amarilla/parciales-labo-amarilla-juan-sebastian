//amarilla juan sebastian 1C

#include "Pedido.h"

int inicializarPedidos(ePedido listaPedido[], int tam)
{
	int i;
	int retorno;

	retorno = -1;

	for(i=0;i<tam;i++)
	{
		listaPedido[i].isEmpty = VACIO;
		retorno = 1;
	}

	return retorno;

}

int verificarIdPedido(ePedido listaPedido[], int tam, int id)
{
	int retorno;
	int i;

	retorno = -1;

	for(i=0;i<tam;i++)
	{
		if(listaPedido[i].id == id && listaPedido[i].isEmpty == PENDIENTE)
		{
			retorno = i;
			break;
		}

	}

    return retorno;

}


void imprimirMenuIdPedidoEstructura(ePedido listaPedido[], int tam)
{
	int i;

	printf("______________________ \n");
	printf("|ID DE PEDIDOS        | \n");
	printf("|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯| \n");

	for(i=0;i<tam;i++)
	{
		if(buscarLibre(listaPedido[i].isEmpty) == PENDIENTE)
		{
			 printf(" ID => %5d \n", listaPedido[i].id);
		}

	}

}

int procesarResiduos(ePedido listaPedido[], int tam)
{
	int retorno;

	imprimirMenuIdPedidoEstructura(listaPedido, tam);

	retorno = lograrProcesoDeResiduos(listaPedido, tam);

	return retorno;

}

int lograrProcesoDeResiduos(ePedido listaPedido[], int tam)
{
	int retorno;
	int i;
	int id;
	float kiloTotal;
	char cadena[TAM_CARACTER];

	retorno = -1;

	pedirEnteroValidado(cadena, "Ingrese la id existente: \n", &id, TAM_CARACTER);
	i = verificarIdPedido(listaPedido, tam , id);

	while(i != -1 && retorno == -1)
	{
		pedirFlotanteValidado(cadena, "Ingrese la cantidad de Kg de HDPE \n", &listaPedido[i].HDPE, TAM_CARACTER);
		pedirFlotanteValidado(cadena, "Ingrese la cantidad de Kg de LDPE \n", &listaPedido[i].LDPE, TAM_CARACTER);
		pedirFlotanteValidado(cadena, "Ingrese la cantidad de Kg de PP \n", &listaPedido[i].PP, TAM_CARACTER);

		kiloTotal = listaPedido[i].HDPE + listaPedido[i].LDPE + listaPedido[i].PP;

		while(kiloTotal > listaPedido[i].kilo)
		{

		}

	}

	return retorno;

}
